Инструкция по запуску проекта 
1. Клонирование репозитория.
Откройте терминал и выполните команду для клонирования репозитория:
git clone https://github.com/ByteCreator007/project_second.git

Перейдите в папку проекта:
cd project_second

2. Установка зависимостей и сборка Docker-образа.
Проект использует Docker Compose для управления сервисами (приложение, MySQL, Redis). Убедитесь, что на машине установлены Docker и Docker Compose.

Установка зависимостей через Poetry
(Эта команда выполнится внутри Docker, поэтому на хосте не требуется устанавливать Poetry.)

Сборка и запуск контейнеров
Выполните в терминале:
docker-compose up --build -d

После этого запустятся все сервисы в фоне:
app — FastAPI-приложение (на порту 8000);
db — MySQL (с пробросом порта 3306);
redis — Redis (с пробросом порта 6379).

Проверка запущенных контейнеров
Выполните команду:
docker-compose ps

Вы должны увидеть, что все три контейнера (app, db, redis) работают.

3. Инициализация базы данных
Перед запуском приложения необходимо создать таблицы в базе данных:

Выполните миграцию (создание таблиц) с помощью скрипта:
docker-compose exec app poetry run python create_tables.py

Если в базе ещё не заполнены типы посылок, выполните seed‑скрипт:
docker-compose exec app poetry run python seed_package_types.py

В консоли появится сообщение «Начальные типы посылок добавлены.» или «Типы посылок уже существуют.»

4. Доступ к API и веб-интерфейсу
Swagger-документация:
После запуска приложения откройте в браузере:
http://localhost:8000/docs
Здесь доступна автоматическая документация (Swagger UI) с описанием всех эндпоинтов API.

Веб-интерфейс:
Для регистрации посылок через веб-интерфейс перейдите по адресу:
http://localhost:8000/web
Здесь доступна HTML-страница с формой для регистрации посылки.

5. Запуск тестов
Для проверки работоспособности API тесты написаны с использованием pytest и httpx.
Если тесты запускаются внутри контейнера, выполните:
docker-compose exec app poetry run pytest

6. Дополнительные моменты
Конфигурация через pydantic-settings:
Настройки проекта находятся в файле src/config.py и загружаются из переменных окружения (или файла .env, если он есть).
В docker-compose.yml переменные (MYSQL_USER, MYSQL_PASSWORD, MYSQL_HOST, MYSQL_PORT, MYSQL_DB) передаются через секцию environment.

Линтеры и pre-commit:
В корне проекта находится файл .pre-commit-config.yaml, который настроен на запуск ruff для проверки кода. При коммите pre-commit будет автоматически запускаться, чтобы обеспечить соответствие кода стандартам.

Структура проекта (src‑layout):
Вся логика приложения находится в каталоге src (код перенесён из старой папки app). Все импорты обновлены соответственно, а Dockerfile теперь копирует папку src в контейнер.

7. Завершение работы
Чтобы остановить контейнеры, выполните:
docker-compose down
Это остановит и удалит запущенные контейнеры (данные в MySQL сохраняются в volume db_data).
